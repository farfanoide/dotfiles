# -*- mode: zsh -*-
# vi: set ft=zsh :

# Go to the repository directory and start the session
cd "$srcdir/$session"
new_session -n 'Editor' vim

# our windows
editor_window=1
general_window=2
db_window=3
server_window=4
log_window=5
assets_window=6


# setup those windows
send_keys $editor_window :NERDTreeToggle Enter # tell vim to open Nerdtree

new_window -n General
split $general_window -h
send_command $general_window.1 'git status -bs'
send_command $general_window.2 'bec'

new_window -n DB
send_command $db_window 'bundle exec rails db'

new_window -n Server
split $server_window -v -p "20"
send_command $server_window.1 'bes'
send_command $server_window.2 'beg'

new_window -n Log
send_command $log_window 'ctail -F log/development.log'

new_window -n Assets
split $assets_window -h
send_command $assets_window.1 'cd ~/Dropbox/compartidas/ingenyo/AGALMA'
send_command $assets_window.2 'cd app/assets'

select_window $editor_window
